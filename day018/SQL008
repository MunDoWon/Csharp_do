#제약조건 이름 직접 지정
DROP TABLE TABLE_NOTNULL2;
CREATE TABLE TABLE_NOTNULL2(
    LOGIN_ID VARCHAR2(20) CONSTRAINT CNAME_LOGID NOT NULL,
    LOGIN_PWD VARCHAR2(20) CONSTRAINT CNAME_LOGPW NOT NULL,
    TEL       VARCHAR2(20)
    );

#제약조건 확인
SELECT OWNER, CONSTRAINT_NAME, CONSTRAINT_TYPE,TABLE_NAME
FROM USER_CONSTRAINTS;
COMMIT;
DESC TABLE_NOTNULL2;
#제약조건 이름 삭제
ALTER TABLE TABLE_NOTNULL2
DROP CONSTRAINT SYS_C007014;

#제약조건 이름 추가하기
ALTER TABLE TABLE_NOTNULL2
MODIFY(TEL CONSTRAINT CNAME_TEL NOT NULL);

#중복되지 않는 값 UNIQUE
CREATE TABLE TABLE_UNIQUE(
    LOGIN_ID  VARCHAR2(20) UNIQUE,
    LOGIN_PWD VARCHAR2(20) NOT NULL,
    TEL       VARCHAR2(20)
    );
DESC TABLE_UNIQUE;    
SELECT OWNER, CONSTRAINT_NAME, CONSTRAINT_TYPE,TABLE_NAME
FROM USER_CONSTRAINTS;

INSERT INTO TABLE_UNIQUE (LOGIN_ID,LOGIN_PWD,TEL)
VALUES ('2','USER_01','010-1111-1111');

SELECT * FROM TABLE_UNIQUE;
    
CREATE TABLE TABLE_PK(
    LOGIN_ID VARCHAR2(20) PRIMARY KEY,
    LOGIN_PWD VARCHAR2(20) NOT NULL,
    TEL VARCHAR2(20)
    );
    DESC TABLE_PK;
    
#381
CREATE TABLE TABLE_NAME(
    COL1    VARCHAR2 (20) CONSTRAINT AAA PRIMARY KEY,
    COL2    VARCHAR2 (20) NOT NULL,
    COL3    VARCHAR2 (20)
);

CREATE TABLE TABLE_NAME(
    COL1    VARCHAR2 (20) ,
    COL2    VARCHAR2 (20) ,
    COL3    VARCHAR2 (20)
    PRIMARY KEY(COL1),
    CONSTRAINT BBB UNIQUE (COL2)
);

#FOREIGN KEY 지정
#DEPT_FK,EMP_FK
SELECT * FROM ENP_FK;
SELECT * FROM DEPT_FK;
DROP TABLE DEPT_FK;
DROP TABLE EMP_FK;

CREATE TABLE DEPT_FK(
    DEPTNO NUMBER(2) CONSTRAINT DEPT_PK PRIMARY KEY,
    DNAME  VARCHAR2(14),
    LOC    VARCHAR2(13)
    );
    
CREATE TABLE EMP_FK(
    EMPNO   NUMBER(4) CONSTRAINT EMP_PK PRIMARY KEY,
    ENAME   VARCHAR2(10),
    JOB     VARCHAR2(9),
    MGR      NUMBER(4),
    HIREDATE DATE,
    SAL     NUMBER(7,2),
    COMM    NUMBER(7,2),
    DEPTNO  NUMBER(2) CONSTRAINT CCC REFERENCES DEPT_FK(DEPTNO)
);
SELECT * FROM EMP_FK;
SELECT * FROM DEPT_FK;
DESC EMP_FK;
DESC DEPT_FK;

DROP TABLE EMP_FK;

#14-41~43
INSERT INTO EMP_FK
 VALUES(9999,'TEST_ENAME','TEST_JOB',NULL,
    TO_DATE('2001/01/01','YYYY/MM/DD'),3000,NULL,10);
    
INSERT INTO DEPT_FK
    VALUES(10,'TEST_DNAME','TEST_LOC');
    
####
CREATE TABLE DEPT_FK(
DEPTNO NUMBER(2) CONSTRAINT DDDD PRIMARY KEY,
DNAME VARCHAR2(14),
LOC VARCHAR2(13)
);

CREATE TABLE EMP_FK(
 EMPNO NUMBER(4) PRIMARY KEY,
 DEPTNO NUMBER(2) CONSTRAINT EEEE REFERENCES DEPT_FK(DEPTNO) 
                  ON DELETE CASCADE
);
DROP TABLE EMP_FK;
DROP TABLE DEPT_FK;

INSERT INTO DEPT_FK
VALUES (1, '총무', '서울');
INSERT INTO DEPT_FK
VALUES (10, '회계', '서울');

INSERT INTO EMP_FK
VALUES (100,1);
INSERT INTO EMP_FK
VALUES (101,10);

SELECT * FROM DEPT_FK;
SELECT * FROM EMP_FK;

DELETE FROM DEPT_FK
WHERE DEPTNO = 1;   
